(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e8c24"],{"8b48":function(t,s,o){"use strict";o.r(s);var a=function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{staticClass:"app flex-row align-items-center"},[o("div",{staticClass:"container"},[o("b-row",{staticClass:"justify-content-center"},[o("b-col",{attrs:{md:"5"}},[o("b-card-group",[o("b-card",{staticClass:"p-4",attrs:{"no-body":""}},[o("b-card-body",[o("b-form",{on:{submit:function(s){return s.preventDefault(),t.login_user(s)}}},[o("h1",[t._v("Login")]),o("p",{staticClass:"text-muted"},[t._v("Sign In to your account")]),o("b-input-group",{staticClass:"mb-3"},[o("b-input-group-prepend",[o("b-input-group-text",[o("i",{staticClass:"icon-user"})])],1),o("b-form-input",{staticClass:"form-control",attrs:{type:"email",placeholder:"Username",autocomplete:"username email"},model:{value:t.auth.email,callback:function(s){t.$set(t.auth,"email",s)},expression:"auth.email"}})],1),o("b-input-group",{staticClass:"mb-4"},[o("b-input-group-prepend",[o("b-input-group-text",[o("i",{staticClass:"icon-lock"})])],1),o("b-form-input",{staticClass:"form-control",attrs:{type:"password",placeholder:"Password",autocomplete:"current-password"},model:{value:t.auth.password,callback:function(s){t.$set(t.auth,"password",s)},expression:"auth.password"}})],1),o("b-row",[o("b-col",{attrs:{cols:"6"}},[o("b-button",{staticClass:"px-4",attrs:{type:"submit",variant:"primary"}},[t._v("Login")])],1),o("b-col",{staticClass:"text-right",attrs:{cols:"6"}},[o("b-button",{staticClass:"px-0",attrs:{variant:"link"}},[t._v("Forgot password?")])],1)],1)],1)],1)],1)],1)],1)],1)],1)])},e=[],n=(o("cadf"),o("551c"),o("097d"),{name:"Login",data:function(){return{auth:{email:"",password:""}}},beforeCreate:function(){var t=this;if(this.$session.exists()){var s="http://sitaav-pagos.test/api/test?token="+this.$session.get("token");axios.get(s).then(function(s){console.log(t.$session.getAll()),t.$router.push({name:"Home"})}).catch(function(s){console.log(s.response.status),401===s.response.status&&(console.log("unauthorized, logging out ..."),t.$session.destroy())})}},methods:{login_user:function(){var t=this,s="http://sitaav-pagos.test/api/login";axios.post(s,this.auth).then(function(s){t.$session.start(),window.axios.defaults.headers.common["Authorization"]="Bearer "+s.data.data.token,t.$session.set("token",s.data.data.token),t.$session.set("user",s.data.data.user),t.$router.push({name:"Home"})}).catch(function(t){toastr.error("Sus Credenciales Son Incorrectas"),console.log(t)})},logout:function(){var t=this,s="http://sitaav-pagos.test/api/logout?token="+this.$session.get("token");axios.get(s).then(function(s){toastr.success("sesion Cerrada"),t.$session.destroy(),console.log(s)}).catch(function(t){toastr.error("error"),console.log(t)})}}}),i=n,r=o("2877"),c=Object(r["a"])(i,a,e,!1,null,null,null);c.options.__file="Login.vue";s["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d0e8c24.52ba8e85.js.map